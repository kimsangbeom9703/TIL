# [NestJsλ΅ λ°°μ°λ” λ°±μ—”λ“ ν”„λ΅κ·Έλλ° - 05.λ°μ½”λ μ΄ν„°] 

## λ°μ½”λ μ΄ν„°λ€?
```
λ°μ½”λ μ΄ν„°λ” ν΄λμ¤λ‚ ν΄λμ¤μ μ”μ†(λ©”μ„λ“, μ†μ„± λ“±)μ— κΈ°λ¥μ„ β€μ£Όμ„μ²λΌβ€™ λ¶™μ—¬μ„, νΉλ³„ν• λ™μ‘μ„ ν•κ² λ§λ“λ” λ¬Έλ²•μ…λ‹λ‹¤.

νƒ€μ…μ¤ν¬λ¦½νΈμ λ°μ½”λ μ΄ν„°λ” νμ΄μ¬μ λ°μ½”λ μ΄ν„°λ‚ μλ°”μ μ–΄λ…Έν…μ΄μ…κ³Ό μ μ‚¬ν• κΈ°λ¥μ„ ν•©λ‹λ‹¤. 
ν΄λμ¤, λ©”μ„λ“, μ ‘κ·Όμ, ν”„λ΅νΌν‹°, λ§¤κ°λ³€μμ— μ μ© κ°€λ¥ν•©λ‹λ‹¤. 
κ° μ”μ†μ μ„ μ–Έλ¶€ μ•μ— @λ΅ μ‹μ‘ν•λ” λ°μ½”λ μ΄ν„°λ¥Ό μ„ μ–Έν•λ©΄ λ°μ½”λ μ΄ν„°λ΅ κµ¬ν„λ μ½”λ“λ¥Ό ν•¨κ» μ‹¤ν–‰ν•©λ‹λ‹¤
```

## π§© λ°μ½”λ μ΄ν„°μ μΆ…λ¥
| λ°μ½”λ μ΄ν„° μ„μΉ   | μμ‹                                  | μ„¤λ…            |
| ---------- | ----------------------------------- | ------------- |
| ν΄λμ¤ λ°μ½”λ μ΄ν„°  | `@Controller()`, `@Injectable()`    | ν΄λμ¤ μ „μ²΄μ— λ™μ‘ μ¶”κ°€ |
| λ©”μ„λ“ λ°μ½”λ μ΄ν„°  | `@Get()`, `@Post()`, `@UseGuards()` | νΉμ • ν•¨μμ— κΈ°λ¥ λ¶€μ—¬  |
| νλΌλ―Έν„° λ°μ½”λ μ΄ν„° | `@Param()`, `@Body()`, `@Query()`   | ν•¨μ μΈμμ— μλ―Έ λ¶€μ—¬  |
| μ†μ„± λ°μ½”λ μ΄ν„°   | `@Inject()`                         | ν΄λμ¤ μ†μ„±μ— κΈ°λ¥ λ¶€μ—¬ |

## π§ μμ  (NestJS κΈ°μ¤€)
```ts
import { Controller, Get, Param } from '@nestjs/common';

@Controller('users') // ν΄λμ¤ λ°μ½”λ μ΄ν„°
export class UserController {
  
  @Get(':id') // λ©”μ„λ“ λ°μ½”λ μ΄ν„°
  getUser(@Param('id') id: string) { // νλΌλ―Έν„° λ°μ½”λ μ΄ν„°
    return `User ID is ${id}`;
  }
}
```
λ™μ‘ νλ¦„
- @Controller('users'): /users κ²½λ΅λ΅ λ§¤ν•‘
- @Get(':id'): GET /users/:id μ”μ²­μ„ μ΄ λ©”μ„λ“μ— μ—°κ²°
- @Param('id'): URL κ²½λ΅μ—μ„ id κ°’μ„ μ¶”μ¶ν•΄μ„ id λ³€μλ΅ μ „λ‹¬

## π› οΈ λ°μ½”λ μ΄ν„°λ” μ‹¤μ λ΅ ν•¨μμ…λ‹λ‹¤
```ts
function MyDecorator(target: any) {
  console.log("ν΄λμ¤μ— λ°μ½”λ μ΄ν„° μ μ©λ¨", target);
}

@MyDecorator
class TestClass {}
```
## π§  μ •λ¦¬: λ°μ½”λ μ΄ν„°λ” μ™ μ“ΈκΉ?
| μ΄μ         | μ„¤λ…                           |
| --------- | ---------------------------- |
| μ½”λ“ κ°€λ…μ„±    | κΈ°λ¥μ„ μ‹κ°μ μΌλ΅ λ…ν™•ν ν‘ν„             |
| μ¤‘λ³µ μ κ±°     | κ³µν†µ λ΅μ§μ„ μ¬μ‚¬μ© κ°€λ¥                |
| λ©”νƒ€ν”„λ΅κ·Έλλ°   | λ°νƒ€μ„μ— ν΄λμ¤ μ •λ³΄λ¥Ό κ°€κ³µ κ°€λ¥           |
| NestJS ν•„μ | λΌμ°ν…, DI, λ―Έλ“¤μ›¨μ–΄ λ“± λ€λ¶€λ¶„ λ°μ½”λ μ΄ν„° κΈ°λ° |

---------------------------------------------------------------------------------
# μμ£Ό μ‚¬μ©ν•λ” λ°μ½”λ μ΄ν„° λ©λ΅

## π—οΈ 1. ν΄λμ¤ λ°μ½”λ μ΄ν„°

| λ°μ½”λ μ΄ν„°           | μ„¤λ…                                                      |
| --------------- | ------------------------------------------------------- |
| `@Controller()` | μ΄ ν΄λμ¤λ¥Ό **λΌμ°ν„° μ»¨νΈλ΅¤λ¬**λ΅ μ„ μ–Έν•¨ (`@Get`, `@Post` λ“±μ„ μ‚¬μ© κ°€λ¥ν•κ² ν•¨) |
| `@Injectable()` | μ΄ ν΄λμ¤λ¥Ό **μμ΅΄μ„± μ£Όμ…(DI)** λ€μƒ μ„λΉ„μ¤λ΅ λ“±λ΅ν•¨                       |
| `@Module()`     | μ΄ ν΄λμ¤λ¥Ό **λ¨λ“**λ΅ λ“±λ΅ (μ»¨νΈλ΅¤λ¬, μ„λΉ„μ¤ λ“±μ„ λ¬¶μ)                     |
| `@Global()`     | μ΄ λ¨λ“μ„ μ•± μ „μ²΄μ—μ„ μ „μ—­ λ¨λ“λ΅ μ‚¬μ©ν•κ² ν•¨                              |

## π 2. λΌμ°ν…(ν•Έλ“¤λ¬) λ©”μ„λ“ λ°μ½”λ μ΄ν„°

| λ°μ½”λ μ΄ν„°       | μ„¤λ…                  |
| ----------- | ------------------- |
| `@Get()`    | GET μ”μ²­μ„ μ²λ¦¬ν•λ” λ©”μ„λ“ μ§€μ • |
| `@Post()`   | POST μ”μ²­ μ²λ¦¬          |
| `@Put()`    | PUT μ”μ²­ μ²λ¦¬           |
| `@Patch()`  | PATCH μ”μ²­ μ²λ¦¬         |
| `@Delete()` | DELETE μ”μ²­ μ²λ¦¬        |
| `@All()`    | λ¨λ“  HTTP λ©”μ„λ“λ¥Ό μ²λ¦¬     |

## π§© 3. λΌμ°ν… νλΌλ―Έν„° λ°μ½”λ μ΄ν„°

| λ°μ½”λ μ΄ν„°               | μ„¤λ…                                    |
| ------------------- | ------------------------------------- |
| `@Param()`          | URL κ²½λ΅μ νλΌλ―Έν„° κ°’μ„ κ°€μ Έμ΄ (μ: `/users/:id`) |
| `@Query()`          | URL μΏΌλ¦¬μ¤νΈλ§ κ°’ μ¶”μ¶ (`?name=aaa`)          |
| `@Body()`           | μ”μ²­μ body λ°μ΄ν„° κ°€μ Έμ΄                      |
| `@Headers()`        | μ”μ²­μ ν—¤λ” κ°€μ Έμ΄                            |
| `@Req()` / `@Res()` | Expressμ μ”μ²­/μ‘λ‹µ κ°μ²΄ μ§μ ‘ μ ‘κ·Ό               |
| `@Ip()`             | ν΄λΌμ΄μ–ΈνΈ IP μ£Όμ† μ¶”μ¶                        |

## π›΅οΈ 4. κΈ°νƒ€ λ°μ½”λ μ΄ν„° (λ³΄μ•, μ‘λ‹µ μ μ–΄ λ“±)

| λ°μ½”λ μ΄ν„°                | μ„¤λ…                                     |
| -------------------- | -------------------------------------- |
| `@UseGuards()`       | μΈμ¦/μΈκ°€λ¥Ό μ„ν• **Guard**λ¥Ό μ μ©                |
| `@UsePipes()`        | μ ν¨μ„± κ²€μ‚¬/λ³€ν™μ„ μ„ν• **Pipe** μ μ©              |
| `@UseInterceptors()` | μ”μ²­/μ‘λ‹µ κ°€κ³µμ„ μ„ν• **Interceptor** μ μ©        |
| `@HttpCode()`        | μ‘λ‹µ HTTP μƒνƒ μ½”λ“ μ„¤μ • (μ: `@HttpCode(204)`) |
| `@Redirect()`        | μ‘λ‹µμ„ λ¦¬λ‹¤μ΄λ ‰νΈ μ²λ¦¬                           |
| `@Render()`          | ν…ν”λ¦Ώ λ λ”λ§μ— μ‚¬μ© (MVC λ°©μ‹)                   |

## β… μ¶”μ² μ •λ¦¬ λ°©μ‹ (μ‹¤λ¬΄ κΈ°μ¤€)

| μ©λ„           | μμ£Ό μ“°λ” λ°μ½”λ μ΄ν„°                                                 |
| ------------ | ----------------------------------------------------------- |
| **λΌμ°ν…**      | `@Controller`, `@Get`, `@Post`, `@Param`, `@Body`, `@Query` |
| **μ„λΉ„μ¤**      | `@Injectable`, `@Inject`                                    |
| **λ¨λ“ κµ¬μ„±**    | `@Module`, `@Global`                                        |
| **λ³΄μ•/κ²€μ¦**    | `@UseGuards`, `@UsePipes`, `@UseInterceptors`               |
| **κΈ°νƒ€ μ‘λ‹µ μ μ–΄** | `@HttpCode`, `@Res`, `@Redirect`                            |
